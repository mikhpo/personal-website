# Персональный сайт

Проект по созданию персонального сайта. Конфигурация, функции, классы и шаблоны максимально абстрактными - так, чтобы можно было использовать проект в качестве шаблона для другого сайта.

## Разделы сайта

Для сайта созданы следующий функционал:
* Пользователи
    * Регистрация
    * Авторизация
* Блог
    * Статьи
    * Комментарии
* Скрипты
    * Запуск через веб-интерфейс
    * Просмотр логов выполнения
* Администрирование
    * CRUD объектов
    * Настройка ролей

## Технологический стек

Проект использует следующие технологии:
* [Django](https://www.djangoproject.com/) (бэкенд)
* [Bootstrap](https://getbootstrap.com/) (фронтенд)
* [PostgreSQL](https://www.postgresql.org/) (база данных)

Проект адаптрован для развертывания на Linux. Для развертывания на Linux используются следующие технологии:
* [Gunicorn](https://gunicorn.org/) (HTTP сервер)
* [Nginx](https://nginx.org/) (прокси-сервер)

## Управление зависимостями

Для управления зависимостями в проекте используется [Poetry](https://python-poetry.org/).

Файлы Poetry:
* `pyproject.toml` - описание проекта и список основных зависимостей.
* `poetry.toml` - конфигурация использования Poetry в проекте.
* `poetry.lock` - расширенный список зависимостей.

Зависимости также зафиксированы в `requirements.txt`.

Для установки зависимостей необходимо использовать команду: 

    poetry install

Poetry сконфигурирован таким образом, чтобы виртуальное окружение создавалось в каталоге проекта. Если витуальное окружение ещё не создано, то после команды `poetry install` оно будет создано автоматически в папке `.venv`.

Для запуска сервера разработки можно применить команду:

    poetry run python manage.py runserver

Предварительно активировать виртуальное окружение при этом не нужно. Однако можно запустить сервер разработки и традиционным способом - через предварительную активацию виртуального окружения:

    .venv/scripts/activate
    python manage.py runserver

## Исключения из репозитория

Из проекта исключены следующие файлы и папки:
* Виртуальное окружение
* Настройки Visual Studio Code
* Файл с секретными данными (логины, пароли, адреса)
* Сертификат
* RSA ключ
* Node.js (npm) зависимости
* Логи
* Файлы кэша

## Структура проекта

Проект использует нестандартную номенклатуру каталогов.

Типичная структура каталогов, созданная при помощи команды `django-admin startproject mysite`, будет выглядеть следующим образом: 

    project/
        .git/
        .venv/
        .gitignore
        requirements.txt
        mysite/ <-- корневой каталог исходного кода
            manage.py
            mysite/ <-- каталог с настройками проекта и главным маршрутизатором
                __init__.py
                settings.py
                urls.py
                asgi.py
                wsgi.py

В данном проекте структура каталогов была изменена следующим образом для повышения универсальности:

    project/
        .git/
        .venv/
        .gitignore
        requirements.txt
        root/ <-- корневой каталог исходного кода
            manage.py
            core/ <-- каталог с настройками проекта и главным маршрутизатором
                __init__.py
                settings.py
                urls.py
                asgi.py
                wsgi.py
