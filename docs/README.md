# Персональный сайт

Проект по созданию персонального сайта. Конфигурация, функции, классы и шаблоны максимально абстрактными - так, чтобы можно было использовать проект в качестве шаблона для другого сайта.

## Функциональность сайта

Для сайта созданы следующий функционал:

* Блог: статьи и комментарии.
* Скрипты: ручной и автоматический запуск, просмотр логов.
* Пользователи: регистрация и авторизация.
* Администрирование: CRUD, настройка ролей.

## Технологический стек

Проект использует следующие технологии:

* [Django](https://www.djangoproject.com/) (бэкенд)
* [Bootstrap](https://getbootstrap.com/) (фронтенд)
* [PostgreSQL](https://www.postgresql.org/) (база данных)

Проект адаптрован для развертывания на Linux. Для развертывания на Linux используются следующие технологии:

* [Gunicorn](https://gunicorn.org/) (HTTP-сервер)
* [Nginx](https://nginx.org/) (прокси-сервер)
* [Docker](https://www.docker.com/) (контейнеризация)

## Структура проекта

Проект использует стандартную структуру каталогов, сформированную командой `django-admin startproject personal_website`:

    personal-website/ <-- корневая директория репозитория
        .git/
        .venv/
        .gitignore
        requirements.txt
        pyproject.toml
        package.json
        tools/ <-- вспомогательные скрипты для разработки
        tests/ <-- пакет интеграционных тестов
        nginx/ <-- файлы для сборки Nginx в контейнере
        personal_website/ <-- базовая директория проекта Django
            manage.py
            Dockerfile <-- параметры сборки контейнера приложения
            entrypoint.sh <-- скрипт для запуска приложения в контейнере
            scripts/ <-- скрипты для рантайма
            config/ <-- шаблоны конфигурационных файлов для рантайма
            personal_website/ <-- директория с настройками проекта
                __init__.py
                settings.py
                urls.py
                asgi.py
                wsgi.py
            tests/ <-- пакет тестов проекта Django
            app1/
            app2/

## Административные команды

Для запуска веб-сервера Django используется команда:

    python personal_website/manage.py runserver

После внесения изменений в модели необходимо произвести миграцию таблиц базы данных. Django имеет встроенный инструмент управления миграциями. Для проведения миграций используются команды:

    python personal_website/manage.py makemigrations
    python personal_website/manage.py migrate

В данном проекте созданы пользовательские административные команды, которые используются для выполнения обособленных скриптов. Вызываются аналогичным образом:

    python personal_website/manage.py <имя команды>

## Приложения проекта

### Контроль учетных записей

Приложение управляет процессом создания учетных записей. Базовая модель аутентификации пользователей Django слишком слабая для серьезного использования. Данное приложение не создает альтернативную модель пользователя, но накладывает дополнительные ограничения, расширяя функционал формы регистрации:

1. Обязательно указание адреса электронной почты.
2. Адрес электронной почты должен быть уникальным.
3. Имя и фамилия не должны совпадать.

### Блог

Одно из ключевых приложений сайта - управлене блогом и комментариями к записям в нем.

В рамках блога используются следующие модели:

1. Статья - как единичная запись в блоге, ключевая модель приложения.
2. Комментарий - пользователи могут оставлять к статьям комментарии.
3. Серия - статьи могут объединяться в серии.
4. Тема - серии могут объединяться по темам.
5. Категория - темы могут объединяться по категориям.

Статьи можно создавать и редактировать через административный интерфейс. Тело статьи редактируется при помощи WYSIWYG-виджета TinyMCE. Статью можно создать, но не опубликовать - для этого есть специальный флаг. При помощи него же опубликованную статью можно снять с публикации.

## Дополнительная информация

* [Руководство по разработке](../docs/CONTRIBUTING.md)
* [История изменений](../docs/CHANGELOG.md)
