{% extends 'main/base.html' %}
<!-- Шаблон для отображения детального описания скрипта с историей выполнений, наследует от базового шаблона. -->
{% block content %}
    <div class = "container">
        <div class="card shadow p-3 mb-5 bg-white rounded">
            <div class="card-body">
                <br>
                <!-- Таблица с описанием параметров скрипта. -->
                <table class="table w-auto small table-sm table-hover table-bordered">
                    <tr>
                        <th>Наименование</th>
                        <td>{{ job.name|default_if_none:"" }}</td>
                    </tr>
                    <tr>
                        <th>Описание</th>
                        <td>{{ job.description|default_if_none:"" }}</td>
                    </tr>
                    <tr>
                        <th>Расписание</th>
                        <td>{{ job.schedule|default_if_none:"" }}</td>
                    </tr>
                    <tr>
                        <th>Последний запуск</th>
                        <td>{{ job.last_run|default_if_none:"" }}</td>
                    </tr>
                    <tr>
                        <th>Следующий запуск по расписанию</th>
                        <td>{{ job.next_run|default_if_none:"" }}</td>
                    </tr>
                    {% if job.manual %}
                        <!-- 
                            Кнопка для ручного запуска скрипта будет отображена только в том случае,
                            если в базе данных установлен атрибут для ручного запуска данного скрипта.
                        -->
                        <tr>
                            <th>Ручной запуск</th>
                            <td>
                                <a class="btn btn-sm btn-outline-dark" href="/scripts/command/{{ job.slug }}/">
                                Запустить
                                </a>
                            </td>
                        </tr>
                    {% endif %}
                </table>
                 <!-- Таблица с результатами выполнения скриптов в отдельном шаблоне. -->
                 {% include 'scripts/executions_table.html' %}
            </div>
            <br>
            </div>
        </div>
    </div>  
{% endblock %}